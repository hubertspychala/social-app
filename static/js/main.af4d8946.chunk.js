(this["webpackJsonpsocial-app"]=this["webpackJsonpsocial-app"]||[]).push([[0],{28:function(e,a,s){},29:function(e,a,s){},30:function(e,a,s){},51:function(e,a,s){},52:function(e,a,s){},53:function(e,a,s){"use strict";s.r(a);var t=s(1),n=s.n(t),c=s(22),r=s.n(c),o=(s(28),s(29),s(3)),i=(s(30),s.p+"static/media/heart-svgrepo-com.a2b7c028.svg"),l=s(23),d=s.n(l),p=s(6),j=s.n(p),m=s(0),b=function(e){var a=Object(t.useState)([]),s=Object(o.a)(a,2),n=s[0],c=s[1],r=Object(t.useState)(""),l=Object(o.a)(r,2),p=l[0],b=l[1];Object(t.useEffect)((function(){j.a.post("https://akademia108.pl/api/social-app/post/latest",{},{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){console.log("RESPONSE RECEIVED: ",e),c(e.data),console.log(e.data),b(e.data[e.data.length-1].created_at)})).catch((function(e){console.log("AXIOS ERROR: ",e)}))}),[]);var u=n.map((function(e){return Object(m.jsxs)("div",{className:"post-container",children:[Object(m.jsxs)("div",{className:"post-header",children:[Object(m.jsx)("div",{className:"avatar",children:Object(m.jsx)("img",{src:e.user.avatar_url,alt:""})}),Object(m.jsx)("div",{className:"nickname",children:e.user.username}),Object(m.jsx)("div",{className:"post-date",children:d()(e.created_at).fromNow()})]}),Object(m.jsx)("div",{className:"post-content",children:e.content}),Object(m.jsxs)("div",{className:"post-likes",children:[Object(m.jsx)("img",{height:25,src:i,alt:"heart"}),Object(m.jsx)("p",{className:"likes-number",children:e.likes.length})]})]},e.id)}));return Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{className:"posts-list",children:u}),Object(m.jsx)("button",{onClick:function(){j.a.post("https://akademia108.pl/api/social-app/post/older-then",{date:p},{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){console.log("RESPONSE RECEIVED: ",e),c(n.concat(e.data)),console.log(e.data),b(e.data[e.data.length-1].created_at)})).catch((function(e){console.log("AXIOS ERROR: ",e)}))},children:"Pobierz posty"})]})},u=s(7),h=s(8),O=(s(51),function(){var e=n.a.useState({email:"",password:""}),a=Object(o.a)(e,2),s=a[0],t=a[1],c=function(e){t(Object(h.a)(Object(h.a)({},s),{},Object(u.a)({},e.target.name,e.target.value)))};return Object(m.jsxs)("form",{onSubmit:function(e){var a=new FormData;a.append("username",s.email),a.append("password",s.password);j.a.post("https://akademia108.pl/api/social-app/user/login",{},{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){console.log("RESPONSE RECEIVED: ",e),console.log(e.data)})).catch((function(e){console.log("AXIOS ERROR: ",e)}))},children:[Object(m.jsx)("p",{children:"Login Form"}),Object(m.jsx)("input",{type:"email",name:"email",placeholder:"enter an email",value:s.email,onChange:c}),Object(m.jsx)("input",{type:"password",name:"password",placeholder:"enter a password",value:s.password,onChange:c}),Object(m.jsx)("button",{type:"submit",children:"Login"})]})});s(52);function x(e){var a={};return e.username.trim()||(a.username="Username required"),e.email.trim()||(a.email="Email required"),e.password.trim()||(a.password="Password is required"),e.password.length<6?a.password="Password needs to be 6 characters":e.password.search(/[!,#,@,$,%]/)<0&&e.password.search(/[0-9]/)<0&&e.password.length<8?a.password="Password needs to be 6 characters, must contain one number and one of charts: ! # @ $ %":e.password.search(/[0-9]/)<0?a.password="Password must contain one number":e.password.search(/[!,#,@,$,%]/)<0&&(a.password="Password must contain one of charts: ! # @ $ %"),e.password2?e.password2!==e.password&&(a.password2="Passwords do not match"):a.password2="Password is required",a}var f=function(e){var a=Object(t.useState)({username:"",email:"",password:"",password2:""}),s=Object(o.a)(a,2),n=s[0],c=s[1],r=Object(t.useState)({}),i=Object(o.a)(r,2),l=i[0],d=i[1],p=Object(t.useState)(!1),m=Object(o.a)(p,2),b=m[0],O=m[1];return{handleChange:function(e){var a=e.target,s=a.name,t=a.value;c(Object(h.a)(Object(h.a)({},n),{},Object(u.a)({},s,t)))},values:n,handleSubmit:function(a){if(a.preventDefault(),d(e(n)),console.log(e(n)),0===Object.keys(e(n)).length){var s={username:n.username,email:n.email,password:n.password};j.a.post("http://akademia108.pl/api/social-app/user/signup",JSON.stringify(s),{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){O(!0),console.log(e.data)})).catch((function(e){console.error(e)}))}},errors:l,isSubmitted:b}},g=function(){var e=f(x),a=e.handleChange,s=e.values,t=e.handleSubmit,n=e.errors,c=e.isSubmitted;return Object(m.jsx)("div",{className:"form-contnet",children:Object(m.jsxs)("form",{className:"form",onSubmit:t,children:[Object(m.jsx)("h1",{children:"Sign-Up"}),Object(m.jsxs)("div",{className:"form-inputs",children:[Object(m.jsx)("label",{htmlFor:"username",className:"form-label",children:"Username"}),Object(m.jsx)("input",{id:"username",placeholder:"Enter your username",className:"form-input",type:"text",name:"username",minLength:"4",value:s.username,onChange:a}),n.username&&Object(m.jsx)("p",{children:n.username})]}),Object(m.jsxs)("div",{className:"form-inputs",children:[Object(m.jsx)("label",{htmlFor:"email",className:"form-label",children:"Email"}),Object(m.jsx)("input",{id:"email",placeholder:"Enter your email",className:"form-input",type:"email",name:"email",value:s.email,onChange:a}),n.email&&Object(m.jsx)("p",{children:n.email})]}),Object(m.jsxs)("div",{className:"form-inputs",children:[Object(m.jsx)("label",{htmlFor:"password",className:"form-label",children:"Password"}),Object(m.jsx)("input",{id:"password",placeholder:"Enter your password",className:"form-input",type:"password",name:"password",value:s.password,onChange:a}),n.password&&Object(m.jsx)("p",{children:n.password})]}),Object(m.jsxs)("div",{className:"form-inputs",children:[Object(m.jsx)("label",{htmlFor:"password2",className:"form-label",children:"Confirm Password"}),Object(m.jsx)("input",{id:"password2",placeholder:"Confirm your password",className:"form-input",type:"password",name:"password2",value:s.password2,onChange:a}),n.password2&&Object(m.jsx)("p",{children:n.password2})]}),Object(m.jsx)("br",{}),Object(m.jsx)("button",{className:"form-input-btn",type:"submit",children:"Submit"}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),c?Object(m.jsx)("div",{className:"succes-message",children:"Succes! Thank for your registeration!"}):null,Object(m.jsx)("br",{}),Object(m.jsxs)("span",{className:"form-input-login",children:["Already have an account? Login ",Object(m.jsx)("a",{href:"",children:"here"})]})]})})},w=s(9),v=s(2);function N(){return Object(m.jsxs)("div",{children:[Object(m.jsxs)("nav",{className:"main-nav",children:[Object(m.jsx)(w.b,{className:"main-nav-link",to:"/",children:"Social-app"}),Object(m.jsx)(w.b,{className:"main-nav-link",to:"/login",children:"Login"}),Object(m.jsx)(w.b,{className:"main-nav-link",to:"/signUp",children:"Sign-up"})]}),Object(m.jsx)("div",{className:"outlet",children:Object(m.jsx)(v.a,{})})]})}function S(){return Object(m.jsxs)("div",{children:[Object(m.jsx)("h2",{children:"Nothing to see here!"}),Object(m.jsx)("p",{children:Object(m.jsx)(w.b,{to:"/",children:"Go to the home page"})})]})}var E=function(){return Object(m.jsxs)("div",{className:"App",children:[Object(m.jsx)("header",{className:"App-header"}),Object(m.jsx)(w.a,{children:Object(m.jsx)(v.d,{children:Object(m.jsxs)(v.b,{path:"/",element:Object(m.jsx)(N,{}),children:[Object(m.jsx)(v.b,{index:!0,path:"/",element:Object(m.jsx)(b,{})}),Object(m.jsx)(v.b,{path:"login",element:Object(m.jsx)(O,{})}),Object(m.jsx)(v.b,{path:"signUp",element:Object(m.jsx)(g,{})}),Object(m.jsx)(v.b,{path:"*",element:Object(m.jsx)(S,{})})]})})})]})},y=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,54)).then((function(a){var s=a.getCLS,t=a.getFID,n=a.getFCP,c=a.getLCP,r=a.getTTFB;s(e),t(e),n(e),c(e),r(e)}))};r.a.render(Object(m.jsx)(n.a.StrictMode,{children:Object(m.jsx)(E,{})}),document.getElementById("root")),y()}},[[53,1,2]]]);
//# sourceMappingURL=main.af4d8946.chunk.js.map